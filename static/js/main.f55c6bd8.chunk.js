(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(2),l=a.n(r);a(11);var s=()=>{const[e,t]=Object(c.useState)(""),[a,r]=Object(c.useState)(""),[l,s]=Object(c.useState)(null),[o,i]=Object(c.useState)("00:00"),[m,u]=Object(c.useState)(null),[h,f]=Object(c.useState)({}),[p,d]=Object(c.useState)(null),[b,E]=Object(c.useState)([]),[y,g]=Object(c.useState)(null),[v,j]=Object(c.useState)("");Object(c.useEffect)(()=>{(async()=>{try{const t=await fetch("https://hkrisztian.cloudftp.hu/data.php",{headers:{Origin:"https://fnatic91.github.io/LifeTimer/"}});if(!t.ok)throw new Error("Network response was not ok");const a=await t.json();u(a.healthFactors||{}),d(a.achievements||{}),E(a.lifeExpectancy||[]),g(a.timeQuips||{})}catch(e){console.error("Error fetching data:",e)}})(),(async()=>{try{const t=await fetch("https://ipapi.co/json/");if(!t.ok)throw new Error("Failed to fetch country data");const a=await t.json();r(a.country_name)}catch(e){console.error("Error fetching country by IP:",e)}})()},[]);const O=Object(c.useCallback)((t,a)=>{if(!m||!m[t]||!m[t][a])return 0;const c=m[t][a],n=Object.keys(c);for(let r of n){const[t,a]=r.split("-").map(Number);if(e>=t&&e<=a)return c[r]}return 0},[e,m]),k=Object(c.useMemo)(()=>{if(!b.length||!a)return 0;const e=b.find(e=>e.country===a);return e?(e.expectancy_male+e.expectancy_female+e.expectancy)/3:0},[b,a]),N=(Object(c.useMemo)(()=>{if(!m)return{};const e={};return Object.entries(m).forEach(t=>{let[a,c]=t,n=0,r=0;Object.values(c).forEach(e=>{const t=e["0-100"];void 0!==t&&(n+=t,r+=1)}),e[a]=0===r?0:n/r}),e},[m]),Object(c.useMemo)(()=>{if(!k||!e)return 0;let t=Number(e);return Object.entries(h).forEach(e=>{let[a,c]=e;t+=O(a,c)}),t/k},[e,k,h,O])),w=Object(c.useCallback)(()=>{if(!b.length||!m||!e)return;const t=b.find(e=>e.country===a);if(!t)return;let c=Number(e);Object.entries(h).forEach(e=>{let[t,a]=e;c-=O(t,a)});const n="Male"===l?t.expectancy_male:"Female"===l?t.expectancy_female:t.expectancy;if(!n)return;const r=c/n*24,s=Math.floor(r),o=Math.floor(60*(r-s));i("".concat(s.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0")))},[e,a,l,h,m,b,O]),M=Object(c.useCallback)(t=>{if(!t||!e)return"";const a="Male"===l?t.males:t.females,c=Math.floor(e/5)-4;if(c<0||c>=a.length)return"";const n=a[Math.floor(Math.random()*a.length)],r=n.achievements[Math.min(c,n.achievements.length-1)];return"".concat(n.name,": ").concat(r.achievement)},[e,l]);Object(c.useEffect)(()=>{m&&p&&b&&y&&e&&(w(),j(M(p)))},[e,a,l,h,w,M,m,p,b,y]);const S=parseInt(o.split(":")[0])<12;Object(c.useEffect)(()=>{if(m){const e={};Object.keys(m).forEach(t=>{e[t]="Average"}),f(e)}},[m]);const x=Object(c.useMemo)(()=>{if(!m)return{};const e={};return Object.entries(m).forEach(t=>{let[a,c]=t;const n=Object.keys(c);e[a]=[{position:0},...n.map((e,t)=>({position:(t+1)/n.length*100}))]}),e},[m]);return m&&p&&b&&y?n.a.createElement("div",{className:"container"},n.a.createElement("h1",{className:"title"},"LifeTimer\u2122"),n.a.createElement("p",{className:"subtitle"},"What time is it for you?"),n.a.createElement("select",{value:a,onChange:e=>r(e.target.value)},b.map(e=>n.a.createElement("option",{key:e.country,value:e.country},e.country))),n.a.createElement("div",null,n.a.createElement("button",{className:"Male"===l?"active":"",onClick:()=>s("Male"===l?null:"Male")},"Male"),n.a.createElement("button",{className:"Female"===l?"active":"",onClick:()=>s("Female"===l?null:"Female")},"Female")),n.a.createElement("div",null,n.a.createElement("label",null,"Your Age: "),n.a.createElement("input",{type:"number",value:e,onChange:e=>t(Number(e.target.value))})),n.a.createElement("div",{className:"clock"},n.a.createElement("div",{className:"clock-hand hour-hand",style:{transform:"rotate(".concat(parseInt(o.split(":")[0])%12*30,"deg)")}}),n.a.createElement("div",{className:"clock-hand minute-hand",style:{transform:"rotate(".concat(6*parseInt(o.split(":")[1]),"deg)")}})),n.a.createElement("h2",{className:"life-timer-display"},o,n.a.createElement("span",{className:"am-indicator"},S?"AM":"PM")),n.a.createElement("p",{className:"message"},y[parseInt(o.split(":")[0])]||""),Object.entries(m).map(e=>{let[t,a]=e;const c=x[t],r=Object.keys(a),l="Average"===h[t]?0:r.findIndex(e=>e===h[t])+1;return n.a.createElement("div",{className:"health-factor-group",key:t},n.a.createElement("h3",{className:"health-factor-label"},t),n.a.createElement("p",{className:"health-factor-selected"},"Selected:"," ","Average"===h[t]?"Average":h[t]||"None"),n.a.createElement("div",{style:{position:"relative",width:"100%",height:"40px"}},c.map((e,t)=>n.a.createElement("div",{key:t,className:"slider-mark",style:{left:"".concat(e.position,"%"),visibility:t===l?"hidden":0===t&&0===l?"hidden":"visible",top:14}})),n.a.createElement("input",{className:"health-factor-slider",type:"range",min:"0",max:r.length,value:l,onChange:e=>f({...h,[t]:"0"===e.target.value?"Average":r[e.target.value-1]})})))}),n.a.createElement("p",{className:"message"},"With a few healthier choices, you could wind back your clock by up to 1 hour (3 years)."),n.a.createElement("p",{className:"message"},"Adjusted Age to Life Expectancy Ratio: ",N.toFixed(2)),v&&n.a.createElement("p",{className:"message"},v)):n.a.createElement("div",null,"Loading...")};l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(s,null)),document.getElementById("root"))},3:function(e,t,a){e.exports=a(12)}},[[3,1,2]]]);